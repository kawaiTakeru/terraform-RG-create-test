trigger: none
pr: none

pool:
  name: Default

variables:
  - name: System.Debug
    value: 'true'

steps:
- task: PowerShell@2
  displayName: 'Slack通知（Secretデバッグ）'
  condition: always()
  inputs:
    targetType: 'inline'
    pwsh: true
    script: |
      $webhookUrl = $env:SLACK_WEBHOOK_URL
      Write-Host "DEBUG: \$env:SLACK_WEBHOOK_URL = '$webhookUrl'"

      if (-not $webhookUrl) {
        Write-Error "❌ SLACK_WEBHOOK_URL が空です。Pipeline の変数を確認してください。"
        exit 1
      }
