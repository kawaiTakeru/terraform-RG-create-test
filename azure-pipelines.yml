trigger:
  branches:
    include:
      - main

pool:
  name: Default
  demands:
    - agent.name -equals LAPTOP-OEOER8OI

steps:
  - checkout: self
  - script: |
      echo "🔁 Terraform Init"
      terraform init
    displayName: 'Terraform Init'
  - script: |
      echo "📄 Terraform Plan"
      terraform plan
    displayName: 'Terraform Plan'
  - script: |
      echo "🚀 Terraform Apply"
      terraform apply -auto-approve
    displayName: 'Terraform Apply'
